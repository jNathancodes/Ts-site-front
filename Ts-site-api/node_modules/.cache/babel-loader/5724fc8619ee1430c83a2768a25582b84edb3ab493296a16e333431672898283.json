{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jonte\\\\Desktop\\\\Ts-site-api\\\\src\\\\sections\\\\ContactFormSection.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ContactFormSection = () => {\n  _s();\n  const [contactForm, setContactForm] = useState({\n    name: '',\n    email: '',\n    comment: ''\n  });\n  const [formErrors, setFormErrors] = useState({});\n  const [submitted, setSubmitted] = useState(false);\n  const [errorText, setErrorText] = useState(\"\");\n  const sendToApi = json => {\n    fetch('https://win22-webapi.azurewebsites.net/api/contactform', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: json\n    }).then(res => {\n      if (res.status === 200) return res.text();else return \"Something went wrong sending data to the api\";\n    }).then(text => {\n      setErrorText(text);\n      setSubmitted(true);\n    });\n  };\n  const validate = values => {\n    const errors = {};\n    const regex_email = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    if (!values.name) errors.name = \"You must enter a name\";\n    if (!values.email) errors.email = \"You must enter an email\";else if (!regex_email.test(values.email)) errors.email = \"You must enter a valid email address (ex.name@domain.com)\";\n    if (!values.comment) errors.comment = \"You must enter a comment\";else if (values.comment.length < 5) errors.comment = \"You must express yourself a bit more\";\n    return errors;\n  };\n  const handleChange = e => {\n    const {\n      id,\n      value\n    } = e.target;\n    setContactForm({\n      ...contactForm,\n      [id]: value\n    });\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    let errorObjoct = validate(contactForm);\n    if (!(Object.keys(errorObjoct).length === 0)) {\n      setFormErrors(errorObjoct);\n    } else {\n      let name = contactForm.name;\n      let email = contactForm.email;\n      let comments = contactForm.comment;\n      const json = JSON.stringify({\n        name,\n        email,\n        comments\n      });\n      sendToApi(json);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"contact-form\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: submitted ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rely d-flex justify-content-center align-items-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: errorText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 18\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Come in Contact with Us\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          noValidate: true,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"name\",\n              type: \"text\",\n              placeholder: \"Your Name\",\n              value: contactForm.name,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"errorMessage\",\n              children: formErrors.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"email\",\n              type: \"email\",\n              placeholder: \"Your Mail\",\n              value: contactForm.email,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"errorMessage\",\n              children: formErrors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"textarea\",\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"comment\",\n              placeholder: \"Comments\",\n              value: contactForm.comment,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"errorMessage\",\n              children: formErrors.comment\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn-theme\",\n              children: [\"Post Comments\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"corner-left\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"corner-right\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n_s(ContactFormSection, \"/1u0KLkmaFhxCf15Y2bXkg3U7LA=\");\n_c = ContactFormSection;\nexport default ContactFormSection;\nvar _c;\n$RefreshReg$(_c, \"ContactFormSection\");","map":{"version":3,"names":["React","useState","ContactFormSection","contactForm","setContactForm","name","email","comment","formErrors","setFormErrors","submitted","setSubmitted","errorText","setErrorText","sendToApi","json","fetch","method","headers","body","then","res","status","text","validate","values","errors","regex_email","test","length","handleChange","e","id","value","target","handleSubmit","preventDefault","errorObjoct","Object","keys","comments","JSON","stringify"],"sources":["C:/Users/jonte/Desktop/Ts-site-api/src/sections/ContactFormSection.tsx"],"sourcesContent":["import React, { useState } from 'react'\r\n\r\ninterface ValueType {\r\n    name: string;\r\n    email: string;\r\n    comment: string;\r\n}\r\ntype ErrorType = Partial<ValueType>\r\n\r\nconst ContactFormSection = () => {\r\n    const [contactForm, setContactForm] = useState<ValueType>({name: '', email: '', comment: ''})\r\n    const [formErrors, setFormErrors] = useState<ErrorType>({})\r\n    const [submitted, setSubmitted] = useState(false)\r\n    const [errorText, setErrorText] = useState(\"\")\r\n    const sendToApi = (json:string) => {\r\n        fetch ('https://win22-webapi.azurewebsites.net/api/contactform',{\r\n            method: 'POST',\r\n            headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                    body: json\r\n                })\r\n                .then((res) => {\r\n            if(res.status === 200) return res.text()\r\n            else return \"Something went wrong sending data to the api\"\r\n        })\r\n        .then((text) => {\r\n            setErrorText(text)\r\n            setSubmitted(true)\r\n        })  \r\n    }\r\n    const validate = (values:ValueType) => {\r\n        const errors:ErrorType = {}\r\n        const regex_email = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n\r\n\r\n        if(!values.name)\r\n            errors.name = \"You must enter a name\"\r\n        if(!values.email)\r\n            errors.email = \"You must enter an email\"\r\n        else if(!regex_email.test(values.email))\r\n            errors.email = \"You must enter a valid email address (ex.name@domain.com)\"\r\n\r\n        if(!values.comment)\r\n            errors.comment = \"You must enter a comment\"\r\n        else if(values.comment.length < 5)\r\n            errors.comment = \"You must express yourself a bit more\"\r\n\r\n\r\n\r\n\r\n        return errors;\r\n    }\r\n\r\n    const handleChange = (e:React.ChangeEvent<HTMLInputElement|HTMLTextAreaElement>) => {\r\n        const {id, value} = e.target\r\n        setContactForm({...contactForm, [id]: value})\r\n    }\r\n\r\n\r\n    const handleSubmit = (e:React.FormEvent) => {\r\n        e.preventDefault();      \r\n        let errorObjoct = validate(contactForm);      \r\n        if (!(Object.keys(errorObjoct).length === 0)) {       \r\n            setFormErrors(errorObjoct);     \r\n        } else {       \r\n            let name = contactForm.name;       \r\n            let email = contactForm.email;       \r\n            let comments = contactForm.comment;       \r\n            const json = JSON.stringify({ name, email, comments });              \r\n            sendToApi(json);     \r\n        }\r\n    }\r\n\r\n\r\n  return (\r\n    <section className=\"contact-form\">\r\n        <div className=\"container\">\r\n            {\r\n                submitted ?\r\n                (<div className=\"rely d-flex justify-content-center align-items-center\">\r\n                    <div>{errorText}</div>\r\n                </div>)\r\n                :\r\n                (\r\n                    <>\r\n                        <h2>Come in Contact with Us</h2>\r\n                        <form onSubmit={handleSubmit} noValidate>\r\n                            <div>\r\n                                <input id=\"name\" type=\"text\" placeholder=\"Your Name\" value={contactForm.name} onChange={handleChange} />\r\n                                <div className=\"errorMessage\">{formErrors.name}</div>\r\n                            </div>\r\n                            <div>\r\n                                <input id=\"email\" type=\"email\" placeholder=\"Your Mail\" value={contactForm.email} onChange={handleChange} />\r\n                                <div className=\"errorMessage\">{formErrors.email}</div>\r\n                            </div>\r\n                            <div className=\"textarea\">\r\n                                <textarea id=\"comment\" placeholder=\"Comments\" value={contactForm.comment} onChange={handleChange} ></textarea>\r\n                                <div className=\"errorMessage\">{formErrors.comment}</div>\r\n                            </div>\r\n                            <div>\r\n                                <button type=\"submit\" className=\"btn-theme\">Post Comments\r\n                                    <span className=\"corner-left\"></span>\r\n                                    <span className=\"corner-right\"></span>\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </>\r\n                )\r\n            }\r\n\r\n        </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default ContactFormSection"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}